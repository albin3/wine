<!DOCTYPE html>
<html>
  <head>
    <title>Song For Us</title>
    <link rel="stylesheet" href="/static/plugins/bootstrap/css/bootstrap.min.css">
    <script src="/static/js/lib/jquery-1.11.0.min.js"></script>
    <script src="/static/js/lib/knockout-3.0.0.js"></script>
    <script src="/static/plugins/bootstrap/js/bootstrap.min.js"></script>
    
  </head>
  <body>
  <video id="video" width="640" height="480" autoplay></video>
  <button id="snap">Snap Photo</button>
  <canvas id="canvas" width="640" height="480"></canvas>
  <script src="/static/js/myjs/road.js"></script>
  <script>
  window.addEventListener("DOMContentLoaded", function() {
                  // Grab elements, create settings, etc.
                  var canvas = document.getElementById("canvas"),
                  context = canvas.getContext("2d"),
                  video = document.getElementById("video"),
                  videoObj = { "video": true },
                  errBack = function(error) {
                  console.log("Video capture error: ", error.code); 
                  };

                  // Put video listeners into place
                  if(navigator.getUserMedia) { // Standard
                  navigator.getUserMedia(videoObj, function(stream) {
                          video.src = stream;
                          video.play();
                          }, errBack);
                  } else if(navigator.webkitGetUserMedia) { // WebKit-prefixed
                  navigator.webkitGetUserMedia(videoObj, function(stream){
                          video.src = window.webkitURL.createObjectURL(stream);
                          video.play();
                          }, errBack);
                  }
                  else if(navigator.mozGetUserMedia) { // Firefox-prefixed
                          navigator.mozGetUserMedia(videoObj, function(stream){
                                          video.src = window.URL.createObjectURL(stream);
                                          video.play();
                                          }, errBack);
                  }
  }, false);
  </script>
    
  </body>
</html>

